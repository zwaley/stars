// æ˜Ÿåº§æ•°æ® - åŸºäºä¸“ä¸šå æ˜Ÿå­¦çŸ¥è¯†
const zodiacData = {
    aries: {
        name: 'ç™½ç¾Šåº§',
        icon: 'â™ˆ',
        element: 'ç«è±¡æ˜Ÿåº§',
        dates: '3æœˆ21æ—¥ - 4æœˆ19æ—¥',
        tarot: 'çš‡å¸',
        personality: 'ç§¯æä¸»åŠ¨ã€å‹‡æ•¢å†²åŠ¨ã€å¤©ç”Ÿé¢†å¯¼è€…',
        colors: ['çº¢è‰²', 'æ©™è‰²', 'é‡‘è‰²'],
        numbers: [1, 8, 17, 26],
        directions: ['ä¸œæ–¹', 'ä¸œå—æ–¹'],
        ruler: 'ç«æ˜Ÿ',
        quality: 'åŸºæœ¬æ˜Ÿåº§',
        polarity: 'é˜³æ€§',
        keywords: ['å¼€åˆ›', 'å†²åŠ¨', 'é¢†å¯¼', 'å‹‡æ°”', 'ç«äº‰'],
        bodyParts: ['å¤´éƒ¨', 'å¤§è„‘', 'çœ¼ç›'],
        strengths: ['å‹‡æ•¢', 'å†³æ–­åŠ›å¼º', 'çƒ­æƒ…', 'è‡ªä¿¡', 'ç‹¬ç«‹'],
        weaknesses: ['å†²åŠ¨', 'æ€¥èº', 'è‡ªç§', 'ç¼ºä¹è€å¿ƒ'],
        lifeTheme: 'æˆ‘æ˜¯ - è‡ªæˆ‘è®¤åŒä¸ä¸ªäººæ„å¿—çš„è¡¨è¾¾'
    },
    taurus: {
        name: 'é‡‘ç‰›åº§',
        icon: 'â™‰',
        element: 'åœŸè±¡æ˜Ÿåº§',
        dates: '4æœˆ20æ—¥ - 5æœˆ20æ—¥',
        tarot: 'æ•™çš‡',
        personality: 'ç¨³é‡è¸å®ã€å›ºæ‰§ä¿å®ˆã€é‡è§†ç‰©è´¨',
        colors: ['ç»¿è‰²', 'ç²‰è‰²', 'è“è‰²'],
        numbers: [2, 6, 14, 23],
        directions: ['åŒ—æ–¹', 'è¥¿åŒ—æ–¹'],
        ruler: 'é‡‘æ˜Ÿ',
        quality: 'å›ºå®šæ˜Ÿåº§',
        polarity: 'é˜´æ€§',
        keywords: ['ç¨³å®š', 'æ„Ÿå®˜', 'ç‰©è´¨', 'åšæŒ', 'äº«å—'],
        bodyParts: ['é¢ˆéƒ¨', 'å–‰å’™', 'ç”²çŠ¶è…º'],
        strengths: ['å¯é ', 'è€å¿ƒ', 'å®ç”¨', 'å¿ è¯š', 'ç¨³å®š'],
        weaknesses: ['å›ºæ‰§', 'æ‡’æƒ°', 'å æœ‰æ¬²å¼º', 'ç‰©è´¨ä¸»ä¹‰'],
        lifeTheme: 'æˆ‘æ‹¥æœ‰ - ç‰©è´¨å®‰å…¨ä¸æ„Ÿå®˜äº«å—çš„è¿½æ±‚'
    },
    gemini: {
        name: 'åŒå­åº§',
        icon: 'â™Š',
        element: 'é£è±¡æ˜Ÿåº§',
        dates: '5æœˆ21æ—¥ - 6æœˆ21æ—¥',
        tarot: 'æ‹äºº',
        personality: 'èªæ˜æœºæ™ºã€å–„äºæ²Ÿé€šã€å¤šå˜çµæ´»',
        colors: ['é»„è‰²', 'é“¶è‰²', 'æµ…è“è‰²'],
        numbers: [3, 12, 21, 30],
        directions: ['è¥¿æ–¹', 'è¥¿å—æ–¹'],
        ruler: 'æ°´æ˜Ÿ',
        quality: 'å˜åŠ¨æ˜Ÿåº§',
        polarity: 'é˜³æ€§',
        keywords: ['æ²Ÿé€š', 'å­¦ä¹ ', 'å¤šæ ·æ€§', 'æœºæ™º', 'é€‚åº”'],
        bodyParts: ['æ‰‹è‡‚', 'è‚ºéƒ¨', 'ç¥ç»ç³»ç»Ÿ'],
        strengths: ['èªæ˜', 'é€‚åº”æ€§å¼º', 'å¹½é»˜', 'å¥½å¥‡å¿ƒå¼º'],
        weaknesses: ['å–„å˜', 'è‚¤æµ…', 'ä¸ä¸“ä¸€', 'ç„¦è™‘'],
        lifeTheme: 'æˆ‘æ€è€ƒ - ä¿¡æ¯äº¤æµä¸çŸ¥è¯†æ¢ç´¢'
    },
    cancer: {
        name: 'å·¨èŸ¹åº§',
        icon: 'â™‹',
        element: 'æ°´è±¡æ˜Ÿåº§',
        dates: '6æœˆ22æ—¥ - 7æœˆ22æ—¥',
        tarot: 'æˆ˜è½¦',
        personality: 'æ¸©æŸ”ä½“è´´ã€é‡è§†å®¶åº­ã€æƒ…æ„Ÿä¸°å¯Œ',
        colors: ['ç™½è‰²', 'é“¶è‰²', 'æµ·è“è‰²'],
        numbers: [4, 13, 22, 31],
        directions: ['å—æ–¹', 'ä¸œå—æ–¹'],
        ruler: 'æœˆäº®',
        quality: 'åŸºæœ¬æ˜Ÿåº§',
        polarity: 'é˜´æ€§',
        keywords: ['æƒ…æ„Ÿ', 'å®¶åº­', 'ä¿æŠ¤', 'ç›´è§‰', 'æ»‹å…»'],
        bodyParts: ['èƒ¸éƒ¨', 'èƒƒéƒ¨', 'æ¶ˆåŒ–ç³»ç»Ÿ'],
        strengths: ['åŒæƒ…å¿ƒå¼º', 'ç›´è§‰æ•é”', 'å¿ è¯š', 'ä¿æŠ¤æ¬²å¼º'],
        weaknesses: ['æƒ…ç»ªåŒ–', 'æ•æ„Ÿ', 'å æœ‰æ¬²', 'æ€€æ—§'],
        lifeTheme: 'æˆ‘æ„Ÿå— - æƒ…æ„Ÿå®‰å…¨ä¸å®¶åº­å½’å±æ„Ÿ'
    },
    leo: {
        name: 'ç‹®å­åº§',
        icon: 'â™Œ',
        element: 'ç«è±¡æ˜Ÿåº§',
        dates: '7æœˆ23æ—¥ - 8æœˆ22æ—¥',
        tarot: 'åŠ›é‡',
        personality: 'è‡ªä¿¡å¤§æ–¹ã€çƒ­æƒ…æ…·æ…¨ã€å–œæ¬¢è¡¨ç°',
        colors: ['é‡‘è‰²', 'æ©™è‰²', 'çº¢è‰²'],
        numbers: [5, 14, 23, 32],
        directions: ['ä¸œæ–¹', 'ä¸œåŒ—æ–¹'],
        ruler: 'å¤ªé˜³',
        quality: 'å›ºå®šæ˜Ÿåº§',
        polarity: 'é˜³æ€§',
        keywords: ['åˆ›é€ ', 'è¡¨æ¼”', 'é¢†å¯¼', 'è‡ªä¿¡', 'è£è€€'],
        bodyParts: ['å¿ƒè„', 'è„Šæ¤', 'èƒŒéƒ¨'],
        strengths: ['æ…·æ…¨', 'å¿ è¯š', 'è‡ªä¿¡', 'æœ‰é­…åŠ›', 'ä¹è§‚'],
        weaknesses: ['è‡ªè´Ÿ', 'å›ºæ‰§', 'æ‡’æƒ°', 'è‡ªæˆ‘ä¸­å¿ƒ'],
        lifeTheme: 'æˆ‘åˆ›é€  - è‡ªæˆ‘è¡¨è¾¾ä¸ä¸ªäººè£è€€çš„å±•ç°'
    },
    virgo: {
        name: 'å¤„å¥³åº§',
        icon: 'â™',
        element: 'åœŸè±¡æ˜Ÿåº§',
        dates: '8æœˆ23æ—¥ - 9æœˆ22æ—¥',
        tarot: 'éšå£«',
        personality: 'å®Œç¾ä¸»ä¹‰ã€ç»†å¿ƒè°¨æ…ã€è¿½æ±‚ç²¾ç¡®',
        colors: ['æ·±è“è‰²', 'ç°è‰²', 'æ£•è‰²'],
        numbers: [6, 15, 24, 33],
        directions: ['åŒ—æ–¹', 'è¥¿åŒ—æ–¹'],
        ruler: 'æ°´æ˜Ÿ',
        quality: 'å˜åŠ¨æ˜Ÿåº§',
        polarity: 'é˜´æ€§',
        keywords: ['å®Œç¾', 'æœåŠ¡', 'åˆ†æ', 'å¥åº·', 'å®ç”¨'],
        bodyParts: ['è…¹éƒ¨', 'è‚ é“', 'ç¥ç»ç³»ç»Ÿ'],
        strengths: ['å‹¤å¥‹', 'å¯é ', 'åˆ†æèƒ½åŠ›å¼º', 'è°¦é€Š'],
        weaknesses: ['æŒ‘å‰”', 'ç„¦è™‘', 'è¿‡åº¦æ‰¹åˆ¤', 'å®Œç¾ä¸»ä¹‰'],
        lifeTheme: 'æˆ‘åˆ†æ - å®Œç¾ä¸æœåŠ¡çš„è¿½æ±‚'
    },
    libra: {
        name: 'å¤©ç§¤åº§',
        icon: 'â™',
        element: 'é£è±¡æ˜Ÿåº§',
        dates: '9æœˆ23æ—¥ - 10æœˆ23æ—¥',
        tarot: 'æ­£ä¹‰',
        personality: 'è¿½æ±‚å¹³è¡¡ã€ä¼˜é›…è¿·äººã€çŠ¹è±«ä¸å†³',
        colors: ['ç²‰è‰²', 'æµ…è“è‰²', 'ç»¿è‰²'],
        numbers: [7, 16, 25, 34],
        directions: ['è¥¿æ–¹', 'è¥¿å—æ–¹'],
        ruler: 'é‡‘æ˜Ÿ',
        quality: 'åŸºæœ¬æ˜Ÿåº§',
        polarity: 'é˜³æ€§',
        keywords: ['å¹³è¡¡', 'å’Œè°', 'ç¾æ„Ÿ', 'åˆä½œ', 'å…¬æ­£'],
        bodyParts: ['è…°éƒ¨', 'è‚¾è„', 'çš®è‚¤'],
        strengths: ['å¤–äº¤æ‰‹è…•', 'å…¬æ­£', 'ä¼˜é›…', 'ç¤¾äº¤èƒ½åŠ›å¼º'],
        weaknesses: ['çŠ¹è±«ä¸å†³', 'é¿å…å†²çª', 'è‚¤æµ…', 'è‡ªæ€œ'],
        lifeTheme: 'æˆ‘å¹³è¡¡ - å’Œè°ä¸ç¾æ„Ÿçš„è¿½æ±‚'
    },
    scorpio: {
        name: 'å¤©èåº§',
        icon: 'â™',
        element: 'æ°´è±¡æ˜Ÿåº§',
        dates: '10æœˆ24æ—¥ - 11æœˆ22æ—¥',
        tarot: 'æ­»ç¥',
        personality: 'ç¥ç§˜æ·±æ²‰ã€æ„å¿—åšå¼ºã€å æœ‰æ¬²å¼º',
        colors: ['æ·±çº¢è‰²', 'é»‘è‰²', 'ç´«è‰²'],
        numbers: [8, 17, 26, 35],
        directions: ['å—æ–¹', 'ä¸œå—æ–¹'],
        ruler: 'å†¥ç‹æ˜Ÿ/ç«æ˜Ÿ',
        quality: 'å›ºå®šæ˜Ÿåº§',
        polarity: 'é˜´æ€§',
        keywords: ['è½¬åŒ–', 'æ·±åº¦', 'ç¥ç§˜', 'é‡ç”Ÿ', 'æƒåŠ›'],
        bodyParts: ['ç”Ÿæ®–å™¨å®˜', 'æ’æ³„ç³»ç»Ÿ', 'é¼»å­'],
        strengths: ['æ„å¿—åšå¼º', 'ç›´è§‰æ•é”', 'å¿ è¯š', 'å‹‡æ•¢'],
        weaknesses: ['å«‰å¦’', 'æŠ¥å¤å¿ƒå¼º', 'çŒœç–‘', 'å æœ‰æ¬²å¼º'],
        lifeTheme: 'æˆ‘è½¬åŒ– - æ·±åº¦æ¢ç´¢ä¸é‡ç”Ÿèœ•å˜'
    },
    sagittarius: {
        name: 'å°„æ‰‹åº§',
        icon: 'â™',
        element: 'ç«è±¡æ˜Ÿåº§',
        dates: '11æœˆ23æ—¥ - 12æœˆ21æ—¥',
        tarot: 'èŠ‚åˆ¶',
        personality: 'ä¹è§‚å¼€æœ—ã€çƒ­çˆ±è‡ªç”±ã€ç›´ç‡å¦è¯š',
        colors: ['ç´«è‰²', 'æ·±è“è‰²', 'çº¢è‰²'],
        numbers: [9, 18, 27, 36],
        directions: ['ä¸œæ–¹', 'ä¸œåŒ—æ–¹'],
        ruler: 'æœ¨æ˜Ÿ',
        quality: 'å˜åŠ¨æ˜Ÿåº§',
        polarity: 'é˜³æ€§',
        keywords: ['æ¢ç´¢', 'å“²å­¦', 'è‡ªç”±', 'å†’é™©', 'æ™ºæ…§'],
        bodyParts: ['å¤§è…¿', 'è‚è„', 'è‡€éƒ¨'],
        strengths: ['ä¹è§‚', 'è¯šå®', 'å“²å­¦æ€ç»´', 'æ…·æ…¨'],
        weaknesses: ['ä¸è´Ÿè´£ä»»', 'ç¼ºä¹è€å¿ƒ', 'è¯´è¯ç›´æ¥', 'è¿‡åº¦æ‰¿è¯º'],
        lifeTheme: 'æˆ‘æ¢ç´¢ - æ™ºæ…§ä¸è‡ªç”±çš„è¿½å¯»'
    },
    capricorn: {
        name: 'æ‘©ç¾¯åº§',
        icon: 'â™‘',
        element: 'åœŸè±¡æ˜Ÿåº§',
        dates: '12æœˆ22æ—¥ - 1æœˆ19æ—¥',
        tarot: 'é­”é¬¼',
        personality: 'åŠ¡å®ç¨³é‡ã€æœ‰è´£ä»»å¿ƒã€è¿½æ±‚æˆåŠŸ',
        colors: ['é»‘è‰²', 'æ·±æ£•è‰²', 'ç°è‰²'],
        numbers: [10, 19, 28, 37],
        directions: ['åŒ—æ–¹', 'è¥¿åŒ—æ–¹'],
        ruler: 'åœŸæ˜Ÿ',
        quality: 'åŸºæœ¬æ˜Ÿåº§',
        polarity: 'é˜´æ€§',
        keywords: ['æˆå°±', 'è´£ä»»', 'çºªå¾‹', 'ä¼ ç»Ÿ', 'æƒå¨'],
        bodyParts: ['è†ç›–', 'éª¨éª¼', 'çš®è‚¤'],
        strengths: ['è´Ÿè´£ä»»', 'æœ‰çºªå¾‹', 'è‡ªæ§åŠ›å¼º', 'å–„äºç®¡ç†'],
        weaknesses: ['æ‚²è§‚', 'å›ºæ‰§', 'ä¸å®½å®¹', 'æœŸæœ›è¿‡é«˜'],
        lifeTheme: 'æˆ‘ä½¿ç”¨ - æˆå°±ä¸è´£ä»»çš„æ‰¿æ‹…'
    },
    aquarius: {
        name: 'æ°´ç“¶åº§',
        icon: 'â™’',
        element: 'é£è±¡æ˜Ÿåº§',
        dates: '1æœˆ20æ—¥ - 2æœˆ18æ—¥',
        tarot: 'æ˜Ÿæ˜Ÿ',
        personality: 'ç‹¬ç«‹åˆ›æ–°ã€æ€æƒ³å‰å«ã€é‡è§†å‹è°Š',
        colors: ['è“è‰²', 'é“¶è‰²', 'ç´«è‰²'],
        numbers: [11, 20, 29, 38],
        directions: ['è¥¿æ–¹', 'è¥¿å—æ–¹'],
        ruler: 'å¤©ç‹æ˜Ÿ/åœŸæ˜Ÿ',
        quality: 'å›ºå®šæ˜Ÿåº§',
        polarity: 'é˜³æ€§',
        keywords: ['åˆ›æ–°', 'ç‹¬ç«‹', 'äººé“ä¸»ä¹‰', 'æœªæ¥', 'å‹è°Š'],
        bodyParts: ['å°è…¿', 'è¸å…³èŠ‚', 'å¾ªç¯ç³»ç»Ÿ'],
        strengths: ['åŸåˆ›æ€§', 'ç‹¬ç«‹', 'äººé“ä¸»ä¹‰', 'å‹å–„'],
        weaknesses: ['æƒ…æ„Ÿç–ç¦»', 'å›ºæ‰§', 'å›é€†', 'ä¸å¯é¢„æµ‹'],
        lifeTheme: 'æˆ‘çŸ¥é“ - åˆ›æ–°ä¸äººé“ä¸»ä¹‰ç†æƒ³'
    },
    pisces: {
        name: 'åŒé±¼åº§',
        icon: 'â™“',
        element: 'æ°´è±¡æ˜Ÿåº§',
        dates: '2æœˆ19æ—¥ - 3æœˆ20æ—¥',
        tarot: 'æœˆäº®',
        personality: 'æ¸©æŸ”æ•æ„Ÿã€å¯Œæœ‰æƒ³è±¡åŠ›ã€å®¹æ˜“å—å½±å“',
        colors: ['æµ·ç»¿è‰²', 'ç´«è‰²', 'é“¶è‰²'],
        numbers: [12, 21, 30, 39],
        directions: ['å—æ–¹', 'ä¸œå—æ–¹'],
        ruler: 'æµ·ç‹æ˜Ÿ/æœ¨æ˜Ÿ',
        quality: 'å˜åŠ¨æ˜Ÿåº§',
        polarity: 'é˜´æ€§',
        keywords: ['ç›´è§‰', 'åŒæƒ…', 'è‰ºæœ¯', 'çµæ€§', 'ç‰ºç‰²'],
        bodyParts: ['è„šéƒ¨', 'æ·‹å·´ç³»ç»Ÿ', 'æ¾æœä½“'],
        strengths: ['åŒæƒ…å¿ƒ', 'è‰ºæœ¯å¤©èµ‹', 'ç›´è§‰', 'æ¸©æŸ”'],
        weaknesses: ['è¿‡åº¦æ•æ„Ÿ', 'é€ƒé¿ç°å®', 'ç¼ºä¹ç•Œé™', 'å—å®³è€…å¿ƒæ€'],
        lifeTheme: 'æˆ‘ç›¸ä¿¡ - çµæ€§ä¸åŒæƒ…å¿ƒçš„ä½“ç°'
    }
};

// è¡Œæ˜Ÿå½±å“æ•°æ®
const planetaryInfluences = {
    sun: { name: 'å¤ªé˜³', keywords: ['è‡ªæˆ‘', 'æ„å¿—', 'ç”Ÿå‘½åŠ›', 'åˆ›é€ åŠ›', 'é¢†å¯¼åŠ›'], influence: 'æ ¸å¿ƒè‡ªæˆ‘ä¸ç”Ÿå‘½ç›®æ ‡' },
    moon: { name: 'æœˆäº®', keywords: ['æƒ…æ„Ÿ', 'ç›´è§‰', 'æ½œæ„è¯†', 'æ¯æ€§', 'å®‰å…¨æ„Ÿ'], influence: 'æƒ…æ„Ÿéœ€æ±‚ä¸å†…åœ¨ä¸–ç•Œ' },
    mercury: { name: 'æ°´æ˜Ÿ', keywords: ['æ²Ÿé€š', 'æ€ç»´', 'å­¦ä¹ ', 'äº¤æµ', 'é€»è¾‘'], influence: 'æ€ç»´æ–¹å¼ä¸æ²Ÿé€šèƒ½åŠ›' },
    venus: { name: 'é‡‘æ˜Ÿ', keywords: ['çˆ±æƒ…', 'ç¾æ„Ÿ', 'å’Œè°', 'ä»·å€¼è§‚', 'è‰ºæœ¯'], influence: 'çˆ±æƒ…è§‚ä¸å®¡ç¾å“å‘³' },
    mars: { name: 'ç«æ˜Ÿ', keywords: ['è¡ŒåŠ¨', 'å†²åŠ¨', 'ç«äº‰', 'å‹‡æ°”', 'æ¬²æœ›'], influence: 'è¡ŒåŠ¨åŠ›ä¸ç«äº‰æ„è¯†' },
    jupiter: { name: 'æœ¨æ˜Ÿ', keywords: ['æ‰©å¼ ', 'æ™ºæ…§', 'å¹¸è¿', 'å“²å­¦', 'æˆé•¿'], influence: 'æˆé•¿æœºä¼šä¸äººç”Ÿå“²å­¦' },
    saturn: { name: 'åœŸæ˜Ÿ', keywords: ['é™åˆ¶', 'è´£ä»»', 'çºªå¾‹', 'æˆç†Ÿ', 'è€ƒéªŒ'], influence: 'äººç”Ÿè¯¾é¢˜ä¸è´£ä»»æ‰¿æ‹…' },
    uranus: { name: 'å¤©ç‹æ˜Ÿ', keywords: ['åˆ›æ–°', 'å˜é©', 'ç‹¬ç«‹', 'çªç ´', 'æœªæ¥'], influence: 'å˜é©èƒ½åŠ›ä¸åˆ›æ–°æ€ç»´' },
    neptune: { name: 'æµ·ç‹æ˜Ÿ', keywords: ['æ¢¦æƒ³', 'çµæ€§', 'å¹»æƒ³', 'è‰ºæœ¯', 'ç‰ºç‰²'], influence: 'çµæ€§è¿½æ±‚ä¸æ¢¦æƒ³å®ç°' },
    pluto: { name: 'å†¥ç‹æ˜Ÿ', keywords: ['è½¬åŒ–', 'é‡ç”Ÿ', 'æ·±åº¦', 'æƒåŠ›', 'èœ•å˜'], influence: 'æ·±å±‚è½¬åŒ–ä¸é‡ç”ŸåŠ›é‡' }
};

// åäºŒå®«ä½ç³»ç»Ÿ
const houseSystem = {
    1: { name: 'ç¬¬ä¸€å®« - è‡ªæˆ‘å®«', theme: 'ä¸ªæ€§ã€å¤–è²Œã€ç¬¬ä¸€å°è±¡', keywords: ['è‡ªæˆ‘è®¤åŒ', 'ä¸ªæ€§è¡¨è¾¾', 'ç”Ÿå‘½æ´»åŠ›'] },
    2: { name: 'ç¬¬äºŒå®« - è´¢å¸›å®«', theme: 'é‡‘é’±ã€ä»·å€¼è§‚ã€ç‰©è´¨èµ„æº', keywords: ['è´¢å¯Œç§¯ç´¯', 'ä»·å€¼è§‚å¿µ', 'ç‰©è´¨å®‰å…¨'] },
    3: { name: 'ç¬¬ä¸‰å®« - å…„å¼Ÿå®«', theme: 'æ²Ÿé€šã€å­¦ä¹ ã€å…„å¼Ÿå§å¦¹', keywords: ['æ²Ÿé€šèƒ½åŠ›', 'å­¦ä¹ æ–¹å¼', 'çŸ­é€”æ—…è¡Œ'] },
    4: { name: 'ç¬¬å››å®« - ç”°å®…å®«', theme: 'å®¶åº­ã€æ ¹åŸºã€å†…åœ¨å®‰å…¨', keywords: ['å®¶åº­å…³ç³»', 'æƒ…æ„Ÿæ ¹åŸº', 'ç§äººç©ºé—´'] },
    5: { name: 'ç¬¬äº”å®« - å­å¥³å®«', theme: 'åˆ›é€ ã€æ‹çˆ±ã€å¨±ä¹', keywords: ['åˆ›é€ è¡¨è¾¾', 'æ‹çˆ±å…³ç³»', 'å¨±ä¹äº«å—'] },
    6: { name: 'ç¬¬å…­å®« - å¥´ä»†å®«', theme: 'å·¥ä½œã€å¥åº·ã€æ—¥å¸¸äº‹åŠ¡', keywords: ['å·¥ä½œæ€åº¦', 'å¥åº·çŠ¶å†µ', 'æœåŠ¡ç²¾ç¥'] },
    7: { name: 'ç¬¬ä¸ƒå®« - å¤«å¦»å®«', theme: 'ä¼™ä¼´å…³ç³»ã€å©šå§»ã€åˆä½œ', keywords: ['ä¼™ä¼´å…³ç³»', 'å©šå§»çŠ¶å†µ', 'åˆä½œèƒ½åŠ›'] },
    8: { name: 'ç¬¬å…«å®« - ç–¾å„å®«', theme: 'è½¬åŒ–ã€å…±åŒèµ„æºã€ç¥ç§˜å­¦', keywords: ['æ·±å±‚è½¬åŒ–', 'å…±åŒè´¢äº§', 'ç¥ç§˜ä½“éªŒ'] },
    9: { name: 'ç¬¬ä¹å®« - è¿ç§»å®«', theme: 'å“²å­¦ã€é«˜ç­‰æ•™è‚²ã€è¿œè¡Œ', keywords: ['äººç”Ÿå“²å­¦', 'é«˜ç­‰å­¦ä¹ ', 'è¿œç¨‹æ—…è¡Œ'] },
    10: { name: 'ç¬¬åå®« - å®˜ç¦„å®«', theme: 'äº‹ä¸šã€å£°èª‰ã€ç¤¾ä¼šåœ°ä½', keywords: ['äº‹ä¸šæˆå°±', 'ç¤¾ä¼šå£°èª‰', 'æƒå¨åœ°ä½'] },
    11: { name: 'ç¬¬åä¸€å®« - ç¦å¾·å®«', theme: 'å‹è°Šã€å›¢ä½“ã€ç†æƒ³', keywords: ['å‹è°Šå…³ç³»', 'å›¢ä½“æ´»åŠ¨', 'æœªæ¥ç†æƒ³'] },
    12: { name: 'ç¬¬åäºŒå®« - ç„ç§˜å®«', theme: 'æ½œæ„è¯†ã€çµæ€§ã€éšè—', keywords: ['æ½œæ„è¯†', 'çµæ€§æˆé•¿', 'éšè—èƒ½åŠ›'] }
};

// æ˜Ÿåº§é…å¯¹æ•°æ®
const zodiacCompatibility = {
    fire: ['fire', 'air'], // ç«è±¡æ˜Ÿåº§ä¸ç«è±¡ã€é£è±¡ç›¸é…
    earth: ['earth', 'water'], // åœŸè±¡æ˜Ÿåº§ä¸åœŸè±¡ã€æ°´è±¡ç›¸é…
    air: ['air', 'fire'], // é£è±¡æ˜Ÿåº§ä¸é£è±¡ã€ç«è±¡ç›¸é…
    water: ['water', 'earth'] // æ°´è±¡æ˜Ÿåº§ä¸æ°´è±¡ã€åœŸè±¡ç›¸é…
};

// å½“å‰è¡Œæ˜Ÿè¿è¡Œå½±å“ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰
const currentTransits = {
    mercury: { sign: 'gemini', influence: 'æ²Ÿé€šä¸å­¦ä¹ èƒ½åŠ›å¢å¼º' },
    venus: { sign: 'taurus', influence: 'æ„Ÿæƒ…ç¨³å®šï¼Œè´¢è¿æå‡' },
    mars: { sign: 'aries', influence: 'è¡ŒåŠ¨åŠ›å¼ºï¼Œä½†éœ€æ§åˆ¶å†²åŠ¨' },
    jupiter: { sign: 'pisces', influence: 'ç›´è§‰æ•é”ï¼Œçµæ€§æˆé•¿' },
    saturn: { sign: 'aquarius', influence: 'åˆ›æ–°æ€ç»´ï¼Œä½†éœ€è¦çºªå¾‹' }
};

// è¿åŠ¿æ¨¡æ¿
const fortuneTemplates = {
    love: {
        title: 'çˆ±æƒ…è¿åŠ¿',
        high: [
            'é‡‘æ˜Ÿä¸ä½ çš„æ˜Ÿåº§å½¢æˆå’Œè°ç›¸ä½ï¼Œçˆ±æƒ…èƒ½é‡å¼ºçƒˆã€‚å•èº«è€…åœ¨ç¤¾äº¤åœºåˆå®¹æ˜“é‡åˆ°ä¸ä½ å¿ƒçµç›¸é€šçš„å¯¹è±¡ï¼Œå¯èƒ½æ˜¯é€šè¿‡æœ‹å‹ä»‹ç»æˆ–æ–‡åŒ–æ´»åŠ¨ã€‚æ‹çˆ±ä¸­çš„äººæ„Ÿæƒ…è¿›å…¥èœœæœˆæœŸï¼Œå½¼æ­¤çš„ä»·å€¼è§‚æ›´åŠ å¥‘åˆï¼Œé€‚åˆè®¨è®ºæœªæ¥è§„åˆ’ã€‚',
            'ç¬¬äº”å®«ï¼ˆæ‹çˆ±å®«ï¼‰å—åˆ°æœ¨æ˜Ÿçš„ç¥ç¦ï¼Œæ¡ƒèŠ±è¿åŠ¿å¦‚è™¹ã€‚ä½ çš„ä¸ªäººé­…åŠ›è¾¾åˆ°å·…å³°ï¼Œç‰¹åˆ«æ˜¯åœ¨è¡¨è¾¾è‡ªå·±çš„åˆ›æ„å’Œæ‰åæ—¶æœ€ä¸ºå¸å¼•äººã€‚å·²æœ‰ä¼´ä¾£çš„äººå¯èƒ½æ”¶åˆ°æƒŠå–œç¤¼ç‰©æˆ–æµªæ¼«çº¦ä¼šé‚€è¯·ã€‚',
            'æœˆäº®ä¸é‡‘æ˜Ÿçš„æŸ”å’Œç›¸ä½æ¿€æ´»äº†ä½ çš„æƒ…æ„Ÿç›´è§‰ã€‚ä½ èƒ½æ•é”æ„ŸçŸ¥åˆ°å¯¹æ–¹çš„çœŸå®æƒ³æ³•ï¼Œæ²Ÿé€šå˜å¾—æ›´åŠ æ·±å…¥å’ŒçœŸè¯šã€‚è¿™æ˜¯è¡¨ç™½ã€æ±‚å©šæˆ–é‡è¦æ„Ÿæƒ…å†³å®šçš„ç»ä½³æ—¶æœºã€‚'
        ],
        medium: [
            'é‡‘æ˜Ÿå¤„äºä¸­æ€§ä½ç½®ï¼Œæ„Ÿæƒ…çŠ¶æ€ç›¸å¯¹å¹³ç¨³ã€‚è™½ç„¶æ²¡æœ‰æˆå‰§æ€§çš„å‘å±•ï¼Œä½†è¿™æ­£æ˜¯æ·±åŒ–æ„Ÿæƒ…åŸºç¡€çš„å¥½æ—¶æœºã€‚å»ºè®®é€šè¿‡å…±åŒå…´è¶£çˆ±å¥½æ¥å¢è¿›å½¼æ­¤äº†è§£ï¼Œé¿å…è¿‡äºæ€¥èºçš„è¡Œä¸ºã€‚',
            'ç¬¬ä¸ƒå®«ï¼ˆä¼™ä¼´å®«ï¼‰å—åˆ°åœŸæ˜Ÿçš„è½»å¾®å½±å“ï¼Œæ„Ÿæƒ…éœ€è¦æ›´å¤šçš„è€å¿ƒå’Œæ‰¿è¯ºã€‚å•èº«è€…ä¸å¦¨å°†æ³¨æ„åŠ›è½¬å‘è‡ªæˆ‘æå‡ï¼ŒåŸ¹å…»å†…åœ¨é­…åŠ›ã€‚å·²æœ‰ä¼´ä¾£çš„äººé€‚åˆå¤„ç†å®é™…é—®é¢˜ï¼Œå¦‚æœªæ¥è§„åˆ’ã€‚',
            'æ°´æ˜Ÿé€†è¡Œå¯èƒ½å½±å“æ²Ÿé€šï¼Œå®¹æ˜“äº§ç”Ÿè¯¯è§£ã€‚å»ºè®®åœ¨é‡è¦å¯¹è¯å‰å…ˆæ•´ç†æ€è·¯ï¼Œå¤šå€¾å¬å¯¹æ–¹çš„æƒ³æ³•ã€‚è¿™ä¸ªæ—¶æœŸé€‚åˆå›é¡¾è¿‡å¾€æ„Ÿæƒ…ç»å†ï¼Œä»ä¸­æ±²å–æ™ºæ…§ã€‚'
        ],
        low: [
            'ç«æ˜Ÿä¸é‡‘æ˜Ÿå½¢æˆç´§å¼ ç›¸ä½ï¼Œæ„Ÿæƒ…å®¹æ˜“å‡ºç°å†²çªã€‚ä½ å¯èƒ½è¿‡äºå†²åŠ¨æˆ–å æœ‰æ¬²å¼ºï¼Œéœ€è¦å­¦ä¼šæ§åˆ¶æƒ…ç»ªã€‚å»ºè®®æš‚æ—¶ä¿æŒè·ç¦»ï¼Œç»™å½¼æ­¤ä¸€äº›æ€è€ƒç©ºé—´ï¼Œé¿å…åšå‡ºåæ‚”çš„å†³å®šã€‚',
            'ç¬¬å…«å®«ï¼ˆè½¬åŒ–å®«ï¼‰çš„èƒ½é‡å½±å“æ„Ÿæƒ…æ·±å±‚ç»“æ„ã€‚å¯èƒ½é¢ä¸´ä¿¡ä»»å±æœºæˆ–éœ€è¦å¤„ç†è¿‡å¾€çš„æƒ…æ„Ÿåˆ›ä¼¤ã€‚è¿™æ˜¯ä¸€ä¸ªå‡€åŒ–å’Œé‡ç”Ÿçš„è¿‡ç¨‹ï¼Œè™½ç„¶ç—›è‹¦ä½†æœ‰åŠ©äºæ„Ÿæƒ…çš„é•¿è¿œå‘å±•ã€‚',
            'åœŸæ˜Ÿåœ¨ç¬¬ä¸ƒå®«å¸¦æ¥æ„Ÿæƒ…è€ƒéªŒï¼Œå¯èƒ½é¢ä¸´ç°å®å‹åŠ›æˆ–å¤–ç•Œé˜»åŠ›ã€‚å•èº«è€…å®¹æ˜“é‡åˆ°ä¸åˆé€‚çš„å¯¹è±¡ï¼Œå·²æœ‰ä¼´ä¾£çš„äººéœ€è¦å…±åŒé¢å¯¹æŒ‘æˆ˜ã€‚ä¿æŒä¿¡å¿ƒï¼Œå›°éš¾æ˜¯æš‚æ—¶çš„ã€‚'
        ]
    },
    career: {
        title: 'äº‹ä¸šè¿åŠ¿',
        high: [
            'ç¬¬åå®«ï¼ˆäº‹ä¸šå®«ï¼‰å—åˆ°å¤ªé˜³å’Œæœ¨æ˜Ÿçš„å¼ºåŠ›åŠ æŒï¼Œä½ çš„ä¸“ä¸šèƒ½åŠ›å’Œé¢†å¯¼æ‰åå°†å¾—åˆ°å……åˆ†å±•ç°ã€‚ä¸Šå¸å¯¹ä½ åˆ®ç›®ç›¸çœ‹ï¼Œé‡è¦é¡¹ç›®å¯èƒ½å§”æ‰˜ç»™ä½ è´Ÿè´£ã€‚è¿™æ˜¯äº‰å–å‡èŒåŠ è–ªçš„ç»ä½³æ—¶æœºï¼Œå‹‡æ•¢è¡¨è¾¾ä½ çš„èŒä¸šæŠ±è´Ÿã€‚',
            'ç«æ˜Ÿåœ¨ç¬¬å…­å®«ï¼ˆå·¥ä½œå®«ï¼‰æ¿€å‘ä½ çš„è¡ŒåŠ¨åŠ›å’Œæ•ˆç‡ã€‚ä½ èƒ½ä»¥è¶…å¸¸çš„ä¸“æ³¨åŠ›å®Œæˆå¤æ‚ä»»åŠ¡ï¼ŒåŒäº‹ä»¬å¯¹ä½ çš„å·¥ä½œèƒ½åŠ›èµä¸ç»å£ã€‚é€‚åˆå¯åŠ¨æ–°é¡¹ç›®æˆ–ç”³è¯·æ›´å…·æŒ‘æˆ˜æ€§çš„èŒä½ã€‚',
            'æ°´æ˜Ÿä¸åœŸæ˜Ÿå½¢æˆæœ‰åˆ©ç›¸ä½ï¼Œä½ çš„æ²Ÿé€šèƒ½åŠ›å’Œç»„ç»‡æ‰èƒ½è¾¾åˆ°å·…å³°ã€‚å•†åŠ¡è°ˆåˆ¤ã€åˆåŒç­¾ç½²ã€å›¢é˜Ÿç®¡ç†éƒ½ä¼šå–å¾—çªç ´æ€§è¿›å±•ã€‚è¿™æ®µæ—¶é—´çš„åŠªåŠ›å°†ä¸ºæœªæ¥çš„äº‹ä¸šå‘å±•å¥ å®šåšå®åŸºç¡€ã€‚'
        ],
        medium: [
            'ç¬¬åå®«èƒ½é‡å¹³ç¨³ï¼Œäº‹ä¸šå‘å±•æŒ‰æ—¢å®šè½¨é“å‰è¿›ã€‚è™½ç„¶æ²¡æœ‰çªç ´æ€§è¿›å±•ï¼Œä½†ç¨³å®šçš„è¡¨ç°ä¼šä¸ºä½ ç§¯ç´¯è‰¯å¥½çš„èŒä¸šå£°èª‰ã€‚å»ºè®®ä¸“æ³¨äºæŠ€èƒ½æå‡å’Œäººé™…å…³ç³»ç»´æŠ¤ï¼Œä¸ºæœªæ¥æœºä¼šåšå‡†å¤‡ã€‚',
            'åœŸæ˜Ÿåœ¨ç¬¬åå®«è¦æ±‚ä½ æ›´åŠ åŠ¡å®å’Œæœ‰çºªå¾‹ã€‚å·¥ä½œä¸­å¯èƒ½é¢ä¸´ä¸€äº›è§„åˆ™é™åˆ¶æˆ–å®˜åƒšç¨‹åºï¼Œéœ€è¦è€å¿ƒå¤„ç†ã€‚è¿™ä¸ªæ—¶æœŸé€‚åˆå®Œå–„å·¥ä½œæµç¨‹ï¼Œå»ºç«‹é•¿æœŸçš„èŒä¸šè§„åˆ’ã€‚',
            'æ°´æ˜Ÿé€†è¡Œå½±å“å·¥ä½œæ²Ÿé€šï¼Œå®¹æ˜“å‡ºç°ä¿¡æ¯ä¼ è¾¾é”™è¯¯æˆ–é¡¹ç›®å»¶è¯¯ã€‚å»ºè®®é‡å¤ç¡®è®¤é‡è¦äº‹é¡¹ï¼Œé¿å…åœ¨æ­¤æ—¶ç­¾ç½²é‡è¦åˆåŒã€‚é€‚åˆå›é¡¾å’Œä¼˜åŒ–ç°æœ‰å·¥ä½œæ–¹æ³•ã€‚'
        ],
        low: [
            'ç«æ˜Ÿä¸åœŸæ˜Ÿå½¢æˆå†²çªç›¸ä½ï¼Œå·¥ä½œä¸­å¯èƒ½é‡åˆ°æƒå¨æŒ‘æˆ˜æˆ–èµ„æºé™åˆ¶ã€‚ä½ çš„åˆ›æ–°æƒ³æ³•å¯èƒ½å—åˆ°ä¿å®ˆåŠ¿åŠ›é˜»æŒ ï¼Œéœ€è¦æ›´å¤šè€å¿ƒå’Œç­–ç•¥ã€‚é¿å…ä¸ä¸Šçº§æ­£é¢å†²çªï¼Œå¯»æ‰¾è¿‚å›è§£å†³æ–¹æ¡ˆã€‚',
            'ç¬¬åäºŒå®«ï¼ˆéšè—å®«ï¼‰çš„å½±å“å¯èƒ½å¸¦æ¥èŒåœºæš—æµæˆ–ç«äº‰å¯¹æ‰‹çš„æŒ‘æˆ˜ã€‚ä¿æŒä½è°ƒï¼Œä¸“æ³¨äºè‡ªå·±çš„å·¥ä½œè¡¨ç°ã€‚è¿™ä¸ªæ—¶æœŸé€‚åˆåæ€èŒä¸šæ–¹å‘ï¼Œå¯èƒ½éœ€è¦è°ƒæ•´é•¿æœŸç›®æ ‡ã€‚',
            'å†¥ç‹æ˜Ÿçš„è½¬åŒ–èƒ½é‡è¦æ±‚ä½ é‡æ–°å®¡è§†èŒä¸šä»·å€¼è§‚ã€‚å¯èƒ½é¢ä¸´èŒä¸šè½¬å‹çš„å‹åŠ›æˆ–å·¥ä½œç¯å¢ƒçš„é‡å¤§å˜åŒ–ã€‚è™½ç„¶è¿‡ç¨‹è‰°éš¾ï¼Œä½†è¿™æ˜¯èŒä¸šç”Ÿæ¶¯é‡è¦çš„èœ•å˜æœŸï¼ŒåšæŒä¸‹å»ä¼šæœ‰æ–°çš„çªç ´ã€‚'
        ]
    },
    wealth: {
        title: 'è´¢è¿',
        high: [
            'ç¬¬äºŒå®«ï¼ˆè´¢å¸›å®«ï¼‰å—åˆ°é‡‘æ˜Ÿå’Œæœ¨æ˜Ÿçš„åŒé‡ç¥ç¦ï¼Œè´¢è¿è¾¾åˆ°é«˜å³°æœŸã€‚æŠ•èµ„ç†è´¢çœ¼å…‰ç‹¬åˆ°ï¼Œç‰¹åˆ«æ˜¯ä¸ç¾å®¹ã€è‰ºæœ¯ã€å¥¢ä¾ˆå“ç›¸å…³çš„æŠ•èµ„å¯èƒ½å¸¦æ¥ä¸°åšå›æŠ¥ã€‚å•†ä¸šåˆä½œå’Œè°ˆåˆ¤èƒ½åŠ›å‡ºä¼—ï¼Œå®¹æ˜“è¾¾æˆæœ‰åˆ©çš„è´¢åŠ¡åè®®ã€‚',
            'å¤ªé˜³ç…§è€€ç¬¬å…«å®«ï¼ˆå…±åŒèµ„æºå®«ï¼‰ï¼Œå¯èƒ½é€šè¿‡åˆä¼™æŠ•èµ„ã€ä¿é™©ç†èµ”æˆ–ä»–äººèµ„åŠ©è·å¾—æ„å¤–æ”¶ç›Šã€‚ä½ çš„è´¢åŠ¡ç®¡ç†èƒ½åŠ›å¾—åˆ°è®¤å¯ï¼Œå¯èƒ½è¢«å§”æ‰˜ç®¡ç†é‡è¦èµ„é‡‘ã€‚è¿™æ˜¯ç”³è¯·è´·æ¬¾æˆ–å¯»æ±‚æŠ•èµ„çš„ç»ä½³æ—¶æœºã€‚',
            'æ°´æ˜Ÿä¸åœŸæ˜Ÿå½¢æˆç¨³å®šç›¸ä½ï¼Œä½ çš„ç†è´¢è§„åˆ’èƒ½åŠ›å’Œé£é™©æ§åˆ¶æ„è¯†è¾¾åˆ°æœ€ä½³çŠ¶æ€ã€‚é•¿æœŸæŠ•èµ„ç­–ç•¥å¼€å§‹æ˜¾ç°æˆæ•ˆï¼Œè¢«åŠ¨æ”¶å…¥å¯èƒ½è¶…å‡ºé¢„æœŸã€‚é€‚åˆè¿›è¡Œæˆ¿åœ°äº§äº¤æ˜“æˆ–å¤§å®—å•†å“æŠ•èµ„ã€‚'
        ],
        medium: [
            'ç¬¬äºŒå®«èƒ½é‡å¹³ç¨³ï¼Œæ”¶å…¥æ¥æºç¨³å®šä½†å¢é•¿ç¼“æ…¢ã€‚è¿™æ˜¯å»ºç«‹è´¢åŠ¡åŸºç¡€å’ŒåŸ¹å…»ç†è´¢ä¹ æƒ¯çš„å¥½æ—¶æœŸã€‚å»ºè®®åˆ¶å®šè¯¦ç»†çš„é¢„ç®—è®¡åˆ’ï¼Œé¿å…ä¸å¿…è¦çš„å¼€æ”¯ï¼Œä¸ºæœªæ¥çš„æŠ•èµ„æœºä¼šç§¯ç´¯èµ„é‡‘ã€‚',
            'åœŸæ˜Ÿåœ¨è´¢å¸›å®«è¦æ±‚ä½ æ›´åŠ è°¨æ…å’Œæœ‰çºªå¾‹åœ°ç®¡ç†è´¢åŠ¡ã€‚å¯èƒ½é¢ä¸´ä¸€äº›è´¢åŠ¡é™åˆ¶æˆ–éœ€è¦æ‰¿æ‹…é¢å¤–çš„ç»æµè´£ä»»ã€‚è¿™ä¸ªæ—¶æœŸé€‚åˆå­¦ä¹ æŠ•èµ„çŸ¥è¯†ï¼Œå»ºç«‹é•¿æœŸçš„è´¢å¯Œç§¯ç´¯ç­–ç•¥ã€‚',
            'æ°´æ˜Ÿé€†è¡Œå¯èƒ½å½±å“è´¢åŠ¡å†³ç­–å’Œäº¤æ˜“è¿›ç¨‹ã€‚åˆåŒç­¾ç½²å¯èƒ½å»¶è¯¯ï¼ŒæŠ•èµ„æ”¶ç›Šå¯èƒ½ä¸å¦‚é¢„æœŸã€‚å»ºè®®é‡æ–°å®¡è§†ç°æœ‰çš„æŠ•èµ„ç»„åˆï¼Œé¿å…åœ¨æ­¤æ—¶åšå‡ºé‡å¤§è´¢åŠ¡å†³å®šã€‚'
        ],
        low: [
            'ç«æ˜Ÿä¸åœŸæ˜Ÿåœ¨è´¢åŠ¡å®«ä½å½¢æˆç´§å¼ ç›¸ä½ï¼Œå¯èƒ½é¢ä¸´æ„å¤–æ”¯å‡ºæˆ–æŠ•èµ„æŸå¤±ã€‚å†²åŠ¨æ¶ˆè´¹å’Œé«˜é£é™©æŠ•èµ„éœ€è¦ç‰¹åˆ«è­¦æƒ•ã€‚å»ºè®®æš‚åœå¤§é¢æŠ•èµ„è®¡åˆ’ï¼Œä¸“æ³¨äºå€ºåŠ¡ç®¡ç†å’Œç°é‡‘æµæ§åˆ¶ã€‚',
            'ç¬¬åäºŒå®«ï¼ˆéšè—å®«ï¼‰çš„å½±å“å¯èƒ½å¸¦æ¥éšæ€§è´¢åŠ¡é£é™©æˆ–æ¬ºè¯ˆå¨èƒã€‚ä»”ç»†å®¡æŸ¥æ‰€æœ‰è´¢åŠ¡æ–‡ä»¶ï¼Œé¿å…å‚ä¸ä¸é€æ˜çš„æŠ•èµ„é¡¹ç›®ã€‚è¿™ä¸ªæ—¶æœŸé€‚åˆæ•´ç†è´¢åŠ¡çŠ¶å†µï¼Œæ¸…ç†ä¸è‰¯èµ„äº§ã€‚',
            'å†¥ç‹æ˜Ÿçš„è½¬åŒ–èƒ½é‡è¦æ±‚ä½ é‡æ–°å®¡è§†é‡‘é’±è§‚å¿µå’Œè´¢å¯Œç›®æ ‡ã€‚å¯èƒ½é¢ä¸´è´¢åŠ¡å±æœºæˆ–éœ€è¦å½»åº•æ”¹å˜ç†è´¢æ–¹å¼ã€‚è™½ç„¶è¿‡ç¨‹ç—›è‹¦ï¼Œä½†è¿™æ˜¯è´¢åŠ¡è§‚å¿µé‡å¡‘çš„é‡è¦æ—¶æœŸï¼Œå°†ä¸ºæœªæ¥çš„è´¢å¯Œç§¯ç´¯å¥ å®šæ–°åŸºç¡€ã€‚'
        ]
    },
    health: {
        title: 'å¥åº·è¿åŠ¿',
        high: [
            'ç¬¬å…­å®«ï¼ˆå¥åº·å®«ï¼‰å—åˆ°å¤ªé˜³å’Œæœ¨æ˜Ÿçš„æœ‰åŠ›æ”¯æŒï¼Œèº«ä½“æ´»åŠ›è¾¾åˆ°å·…å³°çŠ¶æ€ã€‚å…ç–«ç³»ç»Ÿå¼ºåŒ–ï¼Œæ–°é™ˆä»£è°¢æ—ºç››ï¼Œæ˜¯å¼€å§‹æ–°çš„å¥èº«è®¡åˆ’æˆ–è°ƒæ•´é¥®é£Ÿç»“æ„çš„ç»ä½³æ—¶æœºã€‚ä½ çš„èº«ä½“å¯¹è¥å…»å¸æ”¶æ•ˆç‡æé«˜ï¼Œé€‚åˆå°è¯•æ–°çš„å…»ç”Ÿæ–¹æ³•ã€‚',
            'ç«æ˜Ÿåœ¨å¥åº·å®«ä½æ¿€å‘ä½ çš„è¿åŠ¨çƒ­æƒ…å’Œä½“èƒ½æ½œåŠ›ã€‚è‚Œè‚‰åŠ›é‡å’Œå¿ƒè‚ºåŠŸèƒ½æ˜¾è‘—æå‡ï¼Œé€‚åˆæŒ‘æˆ˜æ›´é«˜å¼ºåº¦çš„è¿åŠ¨é¡¹ç›®ã€‚ä½†è¦æ³¨æ„æ§åˆ¶è¿åŠ¨é‡ï¼Œé¿å…å› è¿‡åº¦å…´å¥‹è€Œé€ æˆè¿åŠ¨ä¼¤å®³ã€‚',
            'æœˆäº®ä¸é‡‘æ˜Ÿçš„å’Œè°ç›¸ä½ä¿ƒè¿›èº«å¿ƒå¹³è¡¡å’Œå†…åˆ†æ³Œè°ƒèŠ‚ã€‚ç¡çœ è´¨é‡æä½³ï¼Œçš®è‚¤çŠ¶æ€å’Œç²¾ç¥é¢è²Œéƒ½ä¼šæœ‰æ˜æ˜¾æ”¹å–„ã€‚è¿™æ˜¯è¿›è¡Œç¾å®¹æŠ¤ç†ã€æ’æ¯’å…»é¢œæˆ–å¿ƒç†è°ƒèŠ‚çš„æœ€ä½³æ—¶æœŸã€‚'
        ],
        medium: [
            'ç¬¬å…­å®«èƒ½é‡å¹³ç¨³ï¼Œèº«ä½“çŠ¶å†µç¨³å®šä½†éœ€è¦æŒç»­å…³æ³¨ã€‚å»ºè®®ä¿æŒè§„å¾‹çš„ä½œæ¯å’Œå‡è¡¡çš„é¥®é£Ÿï¼Œé¿å…è¿‡åº¦åŠ³ç´¯ã€‚è¿™ä¸ªæ—¶æœŸé€‚åˆå»ºç«‹é•¿æœŸçš„å¥åº·ç®¡ç†è®¡åˆ’ï¼Œé¢„é˜²èƒœäºæ²»ç–—ã€‚',
            'åœŸæ˜Ÿåœ¨å¥åº·å®«ä½è¦æ±‚ä½ æ›´åŠ é‡è§†èº«ä½“çš„åŸºç¡€ä¿å…»ã€‚å¯èƒ½éœ€è¦é¢å¯¹ä¸€äº›æ…¢æ€§å¥åº·é—®é¢˜æˆ–å»ºç«‹æ›´ä¸¥æ ¼çš„ç”Ÿæ´»çºªå¾‹ã€‚é€‚åˆè¿›è¡Œå…¨é¢ä½“æ£€ï¼Œå»ºç«‹å¥åº·æ¡£æ¡ˆã€‚',
            'æ°´æ˜Ÿé€†è¡Œå¯èƒ½å½±å“ç¥ç»ç³»ç»Ÿå’Œæ¶ˆåŒ–åŠŸèƒ½ã€‚å®¹æ˜“å‡ºç°å¤±çœ ã€ç„¦è™‘æˆ–è‚ èƒƒä¸é€‚ã€‚å»ºè®®è°ƒæ•´ä½œæ¯æ—¶é—´ï¼Œå‡å°‘åˆºæ¿€æ€§é£Ÿç‰©æ‘„å…¥ï¼Œå¤šè¿›è¡Œå†¥æƒ³æˆ–æ”¾æ¾ç»ƒä¹ ã€‚'
        ],
        low: [
            'ç«æ˜Ÿä¸åœŸæ˜Ÿå½¢æˆç´§å¼ ç›¸ä½ï¼Œèº«ä½“å®¹æ˜“å‡ºç°ç‚ç—‡ååº”æˆ–è‚Œè‚‰éª¨éª¼é—®é¢˜ã€‚è¿‡åº¦åŠ³ç´¯å’Œå‹åŠ›å¯èƒ½å¯¼è‡´å…ç–«åŠ›ä¸‹é™ã€‚å»ºè®®æš‚åœé«˜å¼ºåº¦è¿åŠ¨ï¼Œå¤šä¼‘æ¯ï¼Œå¿…è¦æ—¶å¯»æ±‚ä¸“ä¸šåŒ»ç–—å»ºè®®ã€‚',
            'ç¬¬åäºŒå®«ï¼ˆéšè—å®«ï¼‰çš„å½±å“å¯èƒ½å¸¦æ¥æ½œåœ¨çš„å¥åº·éšæ‚£æˆ–å¿ƒç†å‹åŠ›ã€‚æ³¨æ„èº«ä½“å‘å‡ºçš„å¾®å¦™ä¿¡å·ï¼Œä¸è¦å¿½è§†è½»å¾®çš„ä¸é€‚ç—‡çŠ¶ã€‚è¿™ä¸ªæ—¶æœŸé€‚åˆè¿›è¡Œæ·±åº¦ä½“æ£€å’Œå¿ƒç†å¥åº·è¯„ä¼°ã€‚',
            'å†¥ç‹æ˜Ÿçš„è½¬åŒ–èƒ½é‡å¯èƒ½è§¦å‘èº«ä½“çš„æ·±å±‚è°ƒæ•´å’Œæ’æ¯’ååº”ã€‚å¯èƒ½é¢ä¸´å¥åº·å±æœºæˆ–éœ€è¦å½»åº•æ”¹å˜ç”Ÿæ´»æ–¹å¼ã€‚è™½ç„¶è¿‡ç¨‹è‰°éš¾ï¼Œä½†è¿™æ˜¯èº«ä½“é‡æ–°è·å¾—æ´»åŠ›çš„é‡è¦å‡€åŒ–æœŸï¼ŒåšæŒå¥åº·çš„ç”Ÿæ´»æ–¹å¼è‡³å…³é‡è¦ã€‚'
        ]
    },
    overall: {
        title: 'ç»¼åˆè¿åŠ¿',
        high: [
            'å¤šä¸ªè¡Œæ˜Ÿå½¢æˆå¤§ä¸‰è§’æ ¼å±€ï¼Œä¸ºä½ å¸¦æ¥å…¨æ–¹ä½çš„å¹¸è¿èƒ½é‡ã€‚å¤ªé˜³ã€æœ¨æ˜Ÿã€é‡‘æ˜Ÿçš„å’Œè°ç›¸ä½æ¿€æ´»ä½ çš„ä¸ªäººé­…åŠ›å’Œåˆ›é€ æ½œèƒ½ï¼Œæ— è®ºåœ¨æ„Ÿæƒ…ã€äº‹ä¸šè¿˜æ˜¯è´¢è¿æ–¹é¢éƒ½æœ‰çªç ´æ€§è¿›å±•ã€‚è¿™æ˜¯å®ç°é‡è¦ç›®æ ‡å’Œå¼€å¯æ–°ç¯‡ç« çš„é»„é‡‘æ—¶æœŸã€‚',
            'ä½ çš„å®ˆæŠ¤æ˜Ÿä¸å¹¸è¿æ˜Ÿæœ¨æ˜Ÿå½¢æˆå®Œç¾åˆç›¸ï¼Œå®‡å®™èƒ½é‡å¼ºçƒˆæ”¯æŒä½ çš„æ‰€æœ‰è¡ŒåŠ¨ã€‚ç›´è§‰æ•é”ï¼Œåˆ¤æ–­å‡†ç¡®ï¼Œå®¹æ˜“åœ¨å…³é”®æ—¶åˆ»åšå‡ºæ­£ç¡®å†³ç­–ã€‚è´µäººè¿æ—ºç››ï¼Œå¯èƒ½è·å¾—æ„æƒ³ä¸åˆ°çš„å¸®åŠ©å’Œæœºä¼šã€‚',
            'æ–°æœˆæˆ–æ»¡æœˆåœ¨ä½ çš„å…³é”®å®«ä½å‘ç”Ÿï¼Œæ ‡å¿—ç€äººç”Ÿé‡è¦è½¬æŠ˜ç‚¹çš„åˆ°æ¥ã€‚è¿‡å»çš„åŠªåŠ›å¼€å§‹æ”¶è·æˆæœï¼Œæ–°çš„æœºé‡ä¸æ–­æ¶Œç°ã€‚è¿™æ˜¯è®¸æ„¿å’Œè®¾å®šæ–°ç›®æ ‡çš„æœ€ä½³æ—¶æœºï¼Œå®‡å®™ä¼šå…¨åŠ›æ”¯æŒä½ çš„æ„¿æœ›å®ç°ã€‚'
        ],
        medium: [
            'è¡Œæ˜Ÿèƒ½é‡å¤„äºç›¸å¯¹å¹³è¡¡çŠ¶æ€ï¼Œç”Ÿæ´»å„ä¸ªæ–¹é¢ä¿æŒç¨³å®šå‘å±•ã€‚è™½ç„¶æ²¡æœ‰æˆå‰§æ€§çš„çªç ´ï¼Œä½†è¿™æ­£æ˜¯å·©å›ºåŸºç¡€å’Œç§¯ç´¯å®åŠ›çš„å¥½æ—¶æœŸã€‚å»ºè®®ä¸“æ³¨äºä¸ªäººæˆé•¿å’ŒæŠ€èƒ½æå‡ï¼Œä¸ºæœªæ¥çš„æœºä¼šåšå¥½å‡†å¤‡ã€‚',
            'åœŸæ˜Ÿçš„ç¨³å®šå½±å“è¦æ±‚ä½ æ›´åŠ åŠ¡å®å’Œæœ‰è€å¿ƒã€‚å¯èƒ½éœ€è¦é¢å¯¹ä¸€äº›è´£ä»»å’ŒæŒ‘æˆ˜ï¼Œä½†è¿™äº›éƒ½æ˜¯æˆé•¿çš„å¿…ç»ä¹‹è·¯ã€‚ä¿æŒç§¯æå¿ƒæ€ï¼ŒæŒ‰éƒ¨å°±ç­åœ°æ¨è¿›è®¡åˆ’ï¼ŒæˆåŠŸåªæ˜¯æ—¶é—´é—®é¢˜ã€‚',
            'æ°´æ˜Ÿé€†è¡ŒæœŸé—´ï¼Œç”Ÿæ´»èŠ‚å¥å¯èƒ½æ”¾ç¼“ï¼Œå®¹æ˜“å‡ºç°æ²Ÿé€šè¯¯è§£æˆ–è®¡åˆ’å»¶è¯¯ã€‚è¿™æ˜¯åæ€å’Œè°ƒæ•´çš„å¥½æ—¶æœºï¼Œé‡æ–°å®¡è§†ç›®æ ‡å’Œæ–¹æ³•ã€‚é¿å…åšå‡ºé‡å¤§å†³å®šï¼Œä¸“æ³¨äºå®Œå–„ç°æœ‰é¡¹ç›®ã€‚'
        ],
        low: [
            'å¤šä¸ªè¡Œæ˜Ÿå½¢æˆç´§å¼ ç›¸ä½ï¼Œå¯èƒ½åœ¨å¤šä¸ªç”Ÿæ´»é¢†åŸŸåŒæ—¶é¢ä¸´æŒ‘æˆ˜ã€‚æƒ…ç»ªæ³¢åŠ¨è¾ƒå¤§ï¼Œå®¹æ˜“æ„Ÿåˆ°å‹åŠ›å’Œå›°æƒ‘ã€‚å»ºè®®é™ä½æœŸæœ›å€¼ï¼Œä¸“æ³¨äºè§£å†³æœ€ç´§è¿«çš„é—®é¢˜ï¼Œé¿å…åŒæ—¶å¤„ç†å¤ªå¤šäº‹åŠ¡ã€‚',
            'åœŸæ˜Ÿä¸ä¸ªäººè¡Œæ˜Ÿå½¢æˆå›°éš¾ç›¸ä½ï¼Œå¯èƒ½é­é‡æƒå¨æŒ‘æˆ˜æˆ–ç°å®é™åˆ¶ã€‚è¿™æ˜¯äººç”Ÿçš„è€ƒéªŒæœŸï¼Œéœ€è¦æ›´å¤šçš„è€å¿ƒå’Œæ¯…åŠ›ã€‚è™½ç„¶è¿‡ç¨‹è‰°éš¾ï¼Œä½†å…‹æœå›°éš¾åä¼šè·å¾—æ›´å¼ºçš„å†…åœ¨åŠ›é‡ã€‚',
            'å†¥ç‹æ˜Ÿçš„æ·±åº¦è½¬åŒ–èƒ½é‡è§¦å‘äººç”Ÿé‡å¤§å˜é©ã€‚å¯èƒ½é¢ä¸´ä¿¡å¿µå±æœºæˆ–éœ€è¦å½»åº•æ”¹å˜ç”Ÿæ´»æ–¹å¼ã€‚è¿™æ˜¯çµé­‚æˆé•¿çš„å…³é”®æ—¶æœŸï¼Œè™½ç„¶ç—›è‹¦ä½†å¿…è¦ã€‚ç›¸ä¿¡è‡ªå·±çš„å†…åœ¨æ™ºæ…§ï¼Œå‹‡æ•¢é¢å¯¹è½¬å˜ã€‚'
        ]
    }
};

// å…¨å±€å˜é‡
let selectedZodiac = null;
let selectedFocus = 'overall';
let selectedTime = 'today';

// DOM å…ƒç´ 
const zodiacSelector = document.getElementById('zodiacSelector');
const focusSelector = document.getElementById('focusSelector');
const fortuneResult = document.getElementById('fortuneResult');
const zodiacGrid = document.getElementById('zodiacGrid');
const birthdayInput = document.getElementById('birthdayInput');
const birthDate = document.getElementById('birthDate');
const confirmBirthday = document.getElementById('confirmBirthday');
const getFortune = document.getElementById('getFortune');
const shareResult = document.getElementById('shareResult');
const restartFortune = document.getElementById('restartFortune');

// åˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', function() {
    initEventListeners();
    loadUserPreferences();
});

// äº‹ä»¶ç›‘å¬å™¨
function initEventListeners() {
    // è¾“å…¥æ–¹å¼åˆ‡æ¢
    document.querySelectorAll('.method-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            document.querySelectorAll('.method-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            const method = this.dataset.method;
            if (method === 'zodiac') {
                zodiacGrid.style.display = 'grid';
                birthdayInput.style.display = 'none';
            } else {
                zodiacGrid.style.display = 'none';
                birthdayInput.style.display = 'block';
            }
        });
    });
    
    // æ˜Ÿåº§é€‰æ‹©
    document.querySelectorAll('.zodiac-card').forEach(card => {
        card.addEventListener('click', function() {
            document.querySelectorAll('.zodiac-card').forEach(c => c.classList.remove('selected'));
            this.classList.add('selected');
            selectedZodiac = this.dataset.zodiac;
            showFocusSelector();
        });
    });
    
    // ç”Ÿæ—¥ç¡®è®¤
    confirmBirthday.addEventListener('click', function() {
        const date = birthDate.value;
        if (date) {
            selectedZodiac = getZodiacFromDate(date);
            if (selectedZodiac) {
                showFocusSelector();
            }
        } else {
            alert('è¯·é€‰æ‹©ä½ çš„ç”Ÿæ—¥');
        }
    });
    
    // å…³æ³¨é€‰æ‹©
    document.querySelectorAll('.focus-card').forEach(card => {
        card.addEventListener('click', function() {
            document.querySelectorAll('.focus-card').forEach(c => c.classList.remove('selected'));
            this.classList.add('selected');
            selectedFocus = this.dataset.focus;
        });
    });
    
    // æ—¶é—´é€‰æ‹©
    document.querySelectorAll('.time-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            document.querySelectorAll('.time-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            selectedTime = this.dataset.time;
        });
    });
    
    // å¼€å§‹å åœ
    getFortune.addEventListener('click', function() {
        if (selectedZodiac) {
            generateFortune();
        } else {
            alert('è¯·å…ˆé€‰æ‹©ä½ çš„æ˜Ÿåº§');
        }
    });
    
    // åˆ†äº«ç»“æœ
    shareResult.addEventListener('click', function() {
        shareFortuneResult();
    });
    
    // é‡æ–°å åœ
    restartFortune.addEventListener('click', function() {
        resetToStart();
    });
}

// æ ¹æ®ç”Ÿæ—¥è·å–æ˜Ÿåº§
function getZodiacFromDate(dateString) {
    const date = new Date(dateString);
    const month = date.getMonth() + 1;
    const day = date.getDate();
    
    if ((month === 3 && day >= 21) || (month === 4 && day <= 19)) return 'aries';
    if ((month === 4 && day >= 20) || (month === 5 && day <= 20)) return 'taurus';
    if ((month === 5 && day >= 21) || (month === 6 && day <= 21)) return 'gemini';
    if ((month === 6 && day >= 22) || (month === 7 && day <= 22)) return 'cancer';
    if ((month === 7 && day >= 23) || (month === 8 && day <= 22)) return 'leo';
    if ((month === 8 && day >= 23) || (month === 9 && day <= 22)) return 'virgo';
    if ((month === 9 && day >= 23) || (month === 10 && day <= 23)) return 'libra';
    if ((month === 10 && day >= 24) || (month === 11 && day <= 22)) return 'scorpio';
    if ((month === 11 && day >= 23) || (month === 12 && day <= 21)) return 'sagittarius';
    if ((month === 12 && day >= 22) || (month === 1 && day <= 19)) return 'capricorn';
    if ((month === 1 && day >= 20) || (month === 2 && day <= 18)) return 'aquarius';
    if ((month === 2 && day >= 19) || (month === 3 && day <= 20)) return 'pisces';
    
    return null;
}

// æ˜¾ç¤ºå…³æ³¨é€‰æ‹©å™¨
function showFocusSelector() {
    zodiacSelector.style.display = 'none';
    focusSelector.style.display = 'block';
    
    // æ»šåŠ¨åˆ°å…³æ³¨é€‰æ‹©åŒºåŸŸ
    focusSelector.scrollIntoView({ behavior: 'smooth' });
}

// ç”Ÿæˆè¿åŠ¿
function generateFortune() {
    const zodiac = zodiacData[selectedZodiac];
    const fortuneType = fortuneTemplates[selectedFocus];
    
    // ç”Ÿæˆè¿åŠ¿åˆ†æ•° (60-95)
    const score = Math.floor(Math.random() * 36) + 60;
    
    // æ ¹æ®åˆ†æ•°é€‰æ‹©è¿åŠ¿ç­‰çº§
    let level;
    if (score >= 85) level = 'high';
    else if (score >= 70) level = 'medium';
    else level = 'low';
    
    // éšæœºé€‰æ‹©è¿åŠ¿å†…å®¹
    let fortuneContent = fortuneType[level][Math.floor(Math.random() * fortuneType[level].length)];
    
    // æ·»åŠ ä¸ªæ€§åŒ–çš„å æ˜Ÿå­¦å…ƒç´ 
    const personalizedElements = [];
    
    // æ ¹æ®å®ˆæŠ¤æ˜Ÿæ·»åŠ å½±å“
    if (zodiac.ruler) {
        const rulerKey = zodiac.ruler.toLowerCase().replace('/', '_');
        const planetKeys = Object.keys(planetaryInfluences);
        const matchingPlanet = planetKeys.find(key => zodiac.ruler.includes(planetaryInfluences[key].name));
        
        if (matchingPlanet && Math.random() > 0.5) {
            const planetInfluence = planetaryInfluences[matchingPlanet];
            personalizedElements.push(`ä½ çš„å®ˆæŠ¤æ˜Ÿ${planetInfluence.name}åœ¨${planetInfluence.influence}æ–¹é¢ä¸ºä½ å¸¦æ¥ç‰¹æ®Šèƒ½é‡ã€‚`);
        }
    }
    
    // æ ¹æ®æ˜Ÿåº§ç‰¹è´¨æ·»åŠ å»ºè®®
    if (zodiac.quality && Math.random() > 0.6) {
        const qualityAdvice = {
            'åŸºæœ¬æ˜Ÿåº§': 'ä½œä¸ºåŸºæœ¬æ˜Ÿåº§ï¼Œä½ å¤©ç”Ÿå…·æœ‰å¼€åˆ›ç²¾ç¥ï¼Œé€‚åˆä¸»åŠ¨å‡ºå‡»ã€‚',
            'å›ºå®šæ˜Ÿåº§': 'ä½œä¸ºå›ºå®šæ˜Ÿåº§ï¼Œä½ çš„åšæŒå’Œä¸“æ³¨æ˜¯æœ€å¤§ä¼˜åŠ¿ï¼Œä¿æŒè€å¿ƒã€‚',
            'å˜åŠ¨æ˜Ÿåº§': 'ä½œä¸ºå˜åŠ¨æ˜Ÿåº§ï¼Œä½ çš„é€‚åº”èƒ½åŠ›å¾ˆå¼ºï¼Œçµæ´»åº”å¯¹å˜åŒ–ã€‚'
        };
        if (qualityAdvice[zodiac.quality]) {
            personalizedElements.push(qualityAdvice[zodiac.quality]);
        }
    }
    
    // æ ¹æ®å…ƒç´ æ·»åŠ èƒ½é‡æç¤º
    if (zodiac.element && Math.random() > 0.7) {
        const elementEnergy = {
            'ç«è±¡æ˜Ÿåº§': 'ç«å…ƒç´ çš„çƒ­æƒ…å’Œè¡ŒåŠ¨åŠ›æ˜¯ä½ çš„å¤©èµ‹ï¼Œå‹‡æ•¢è¿½æ±‚ç›®æ ‡ã€‚',
            'åœŸè±¡æ˜Ÿåº§': 'åœŸå…ƒç´ çš„ç¨³é‡å’Œå®ç”¨æ€§å¸®åŠ©ä½ è„šè¸å®åœ°åœ°å‰è¿›ã€‚',
            'é£è±¡æ˜Ÿåº§': 'é£å…ƒç´ çš„æ™ºæ…§å’Œæ²Ÿé€šèƒ½åŠ›è®©ä½ åœ¨äººé™…å…³ç³»ä¸­æ¸¸åˆƒæœ‰ä½™ã€‚',
            'æ°´è±¡æ˜Ÿåº§': 'æ°´å…ƒç´ çš„ç›´è§‰å’Œæƒ…æ„Ÿæ·±åº¦æ˜¯ä½ ç‹¬ç‰¹çš„æ„ŸçŸ¥ä¼˜åŠ¿ã€‚'
        };
        if (elementEnergy[zodiac.element]) {
            personalizedElements.push(elementEnergy[zodiac.element]);
        }
    }
    
    // æ·»åŠ å½“å‰è¡Œæ˜Ÿè¿è¡Œå½±å“
    if (Math.random() > 0.8) {
        const transitKeys = Object.keys(currentTransits);
        const randomTransit = transitKeys[Math.floor(Math.random() * transitKeys.length)];
        const transit = currentTransits[randomTransit];
        personalizedElements.push(`å½“å‰${planetaryInfluences[randomTransit]?.name || randomTransit}çš„è¿è¡Œå¸¦æ¥ï¼š${transit.influence}ã€‚`);
    }
    
    // æ·»åŠ ä¸ªæ€§åŒ–å…ƒç´ åˆ°è¿åŠ¿æ–‡æœ¬
    if (personalizedElements.length > 0) {
        fortuneContent += ' ' + personalizedElements[Math.floor(Math.random() * personalizedElements.length)];
    }
    
    // ç”Ÿæˆå»ºè®®
    const advice = generateAdvice(selectedZodiac, selectedFocus, level);
    
    // éšæœºé€‰æ‹©å¹¸è¿ä¿¡æ¯
    const luckyColor = zodiac.colors[Math.floor(Math.random() * zodiac.colors.length)];
    const luckyNumber = zodiac.numbers[Math.floor(Math.random() * zodiac.numbers.length)];
    const luckyDirection = zodiac.directions[Math.floor(Math.random() * zodiac.directions.length)];
    
    // æ›´æ–°ç»“æœæ˜¾ç¤º
    updateFortuneDisplay(zodiac, fortuneType.title, score, fortuneContent, advice, luckyColor, luckyNumber, luckyDirection);
    
    // æ˜¾ç¤ºç»“æœ
    focusSelector.style.display = 'none';
    fortuneResult.style.display = 'block';
    
    // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
    fortuneResult.scrollIntoView({ behavior: 'smooth' });
    
    // ä¿å­˜ç”¨æˆ·åå¥½
    saveUserPreferences();
}

// æ›´æ–°è¿åŠ¿æ˜¾ç¤º
function updateFortuneDisplay(zodiac, fortuneTitle, score, content, advice, luckyColor, luckyNumber, luckyDirection) {
    document.getElementById('resultZodiacIcon').textContent = zodiac.icon;
    document.getElementById('resultZodiacName').textContent = zodiac.name;
    document.getElementById('resultZodiacElement').textContent = zodiac.element + ' | ' + zodiac.dates;
    
    document.getElementById('mainFortuneTitle').textContent = fortuneTitle;
    document.getElementById('fortuneScore').textContent = score;
    document.getElementById('mainFortuneContent').textContent = content;
    
    document.getElementById('tarotName').textContent = zodiac.tarot;
    document.getElementById('tarotMeaning').textContent = getTarotMeaning(zodiac.tarot);
    
    document.getElementById('luckyColor').textContent = luckyColor;
    document.getElementById('luckyNumber').textContent = luckyNumber;
    document.getElementById('luckyDirection').textContent = luckyDirection;
    
    document.getElementById('fortuneAdvice').textContent = advice;
}

// ç”Ÿæˆå»ºè®®
function generateAdvice(zodiacSign, focus, level) {
    const zodiac = zodiacData[zodiacSign];
    const baseAdviceTemplates = {
        love: {
            high: 'ä»Šå¤©æ˜¯è¡¨è¾¾çˆ±æ„çš„å¥½æ—¶æœºï¼Œå‹‡æ•¢ä¸€äº›ï¼',
            medium: 'ç”¨å¿ƒç»è¥æ„Ÿæƒ…ï¼ŒçœŸè¯šæ˜¯æœ€å¥½çš„æ­¦å™¨ã€‚',
            low: 'ç»™å½¼æ­¤ä¸€äº›ç©ºé—´ï¼Œæ—¶é—´ä¼šæ²»æ„ˆä¸€åˆ‡ã€‚'
        },
        career: {
            high: 'æŠ“ä½æœºä¼šå±•ç°è‡ªå·±ï¼ŒæˆåŠŸå°±åœ¨çœ¼å‰ï¼',
            medium: 'ç¨³æ‰ç¨³æ‰“ï¼Œå›¢é˜Ÿåˆä½œæ˜¯å…³é”®ã€‚',
            low: 'ä¿æŒè€å¿ƒï¼Œç§¯ç´¯ç»éªŒæ¯”æ€¥äºæ±‚æˆæ›´é‡è¦ã€‚'
        },
        wealth: {
            high: 'ç†æ€§æŠ•èµ„ï¼Œè´¢å¯Œä¼šç¨³æ­¥å¢é•¿ã€‚',
            medium: 'åˆ¶å®šç†è´¢è®¡åˆ’ï¼Œå¼€æºèŠ‚æµå¹¶é‡ã€‚',
            low: 'é¿å…å†²åŠ¨æ¶ˆè´¹ï¼Œä¿å®ˆç†è´¢ä¸ºä¸Šç­–ã€‚'
        },
        health: {
            high: 'ä¿æŒè‰¯å¥½çš„ç”Ÿæ´»ä¹ æƒ¯ï¼Œèº«ä½“æ˜¯é©å‘½çš„æœ¬é’±ã€‚',
            medium: 'é€‚åº¦è¿åŠ¨ï¼ŒåŠ³é€¸ç»“åˆå¾ˆé‡è¦ã€‚',
            low: 'å¤šä¼‘æ¯ï¼Œæ³¨æ„èº«ä½“å‘å‡ºçš„ä¿¡å·ã€‚'
        },
        overall: {
            high: 'æŠŠæ¡ä»Šå¤©çš„å¥½è¿ï¼Œå‹‡æ•¢è¿½æ±‚ç›®æ ‡ï¼',
            medium: 'ä¿æŒç§¯æå¿ƒæ€ï¼Œç¨³æ­¥å‰è¿›ã€‚',
            low: 'è°ƒæ•´å¿ƒæ€ï¼Œä¸ºä¸‹ä¸€æ¬¡æœºä¼šåšå‡†å¤‡ã€‚'
        }
    };
    
    let baseAdvice = baseAdviceTemplates[focus][level];
    
    // ç”Ÿæˆä¸ªæ€§åŒ–å»ºè®®
    const personalizedAdvice = [];
    
    // åŸºäºæ˜Ÿåº§ä¼˜ç‚¹çš„å»ºè®®
    if (zodiac.strengths && zodiac.strengths.length > 0) {
        const strength = zodiac.strengths[Math.floor(Math.random() * zodiac.strengths.length)];
        personalizedAdvice.push(`å‘æŒ¥ä½ çš„${strength}ä¼˜åŠ¿ï¼Œè¿™æ˜¯ä½ å¤©ç”Ÿçš„æ‰èƒ½ã€‚`);
    }
    
    // åŸºäºæ˜Ÿåº§å…³é”®è¯çš„å»ºè®®
    if (zodiac.keywords && zodiac.keywords.length > 0) {
        const keyword = zodiac.keywords[Math.floor(Math.random() * zodiac.keywords.length)];
        personalizedAdvice.push(`ä»Šå¤©ç‰¹åˆ«é€‚åˆä½“ç°ä½ çš„"${keyword}"ç‰¹è´¨ã€‚`);
    }
    
    // åŸºäºäººç”Ÿä¸»é¢˜çš„å»ºè®®
    if (zodiac.lifeTheme) {
        personalizedAdvice.push(`è®°ä½ä½ çš„äººç”Ÿä¸»é¢˜æ˜¯"${zodiac.lifeTheme}"ï¼Œè®©è¿™ä¸ªç†å¿µæŒ‡å¯¼ä½ çš„è¡ŒåŠ¨ã€‚`);
    }
    
    // åŸºäºå®ˆæŠ¤æ˜Ÿçš„å»ºè®®
    if (zodiac.ruler) {
        const rulerKey = Object.keys(planetaryInfluences).find(key => 
            zodiac.ruler.includes(planetaryInfluences[key].name)
        );
        if (rulerKey) {
            const planet = planetaryInfluences[rulerKey];
            personalizedAdvice.push(`ä½ çš„å®ˆæŠ¤æ˜Ÿ${planet.name}åœ¨${planet.influence}æ–¹é¢ä¸ºä½ å¸¦æ¥æŒ‡å¼•ã€‚`);
        }
    }
    
    // åŸºäºèº«ä½“éƒ¨ä½çš„å¥åº·å»ºè®®
    if (zodiac.bodyParts && zodiac.bodyParts.length > 0 && focus === 'health') {
        const bodyPart = zodiac.bodyParts[Math.floor(Math.random() * zodiac.bodyParts.length)];
        personalizedAdvice.push(`ä½œä¸º${zodiac.name}ï¼Œè¦ç‰¹åˆ«å…³æ³¨${bodyPart}çš„å¥åº·ã€‚`);
    }
    
    // åŸºäºå¹¸è¿å…ƒç´ çš„å»ºè®®
    if (Math.random() > 0.5) {
        const luckyColor = zodiac.colors[Math.floor(Math.random() * zodiac.colors.length)];
        const luckyDirection = zodiac.directions[Math.floor(Math.random() * zodiac.directions.length)];
        personalizedAdvice.push(`ä»Šå¤©ç©¿æˆ´${luckyColor}è‰²çš„ç‰©å“ï¼Œæœå‘${luckyDirection}æ€è€ƒé—®é¢˜ä¼šå¸¦æ¥å¥½è¿ã€‚`);
    }
    
    // éšæœºé€‰æ‹©ä¸€ä¸ªä¸ªæ€§åŒ–å»ºè®®æ·»åŠ åˆ°åŸºç¡€å»ºè®®ä¸­
    if (personalizedAdvice.length > 0) {
        const selectedPersonalAdvice = personalizedAdvice[Math.floor(Math.random() * personalizedAdvice.length)];
        return baseAdvice + ' ' + selectedPersonalAdvice;
    }
    
    return baseAdvice;
}

// è·å–å¡”ç½—ç‰Œå«ä¹‰
function getTarotMeaning(tarotName) {
    const meanings = {
        'çš‡å¸': 'ä»£è¡¨æƒå¨ä¸é¢†å¯¼åŠ›ï¼Œæé†’ä½ è¦æ‰¿æ‹…è´£ä»»ï¼Œå‘æŒ¥é¢†å¯¼æ‰èƒ½ã€‚',
        'æ•™çš‡': 'è±¡å¾ä¼ ç»Ÿä¸æ™ºæ…§ï¼Œå»ºè®®ä½ éµå¾ªæ—¢å®šè§„åˆ™ï¼Œå¯»æ±‚ç²¾ç¥æŒ‡å¯¼ã€‚',
        'æ‹äºº': 'ä»£è¡¨é€‰æ‹©ä¸ç»“åˆï¼Œæé†’ä½ è¦åšå‡ºé‡è¦å†³å®šï¼Œç›¸ä¿¡å†…å¿ƒçš„å£°éŸ³ã€‚',
        'æˆ˜è½¦': 'è±¡å¾æ„å¿—ä¸èƒœåˆ©ï¼Œé¼“åŠ±ä½ åšæŒç›®æ ‡ï¼Œå…‹æœå›°éš¾ã€‚',
        'åŠ›é‡': 'ä»£è¡¨å†…åœ¨åŠ›é‡ä¸å‹‡æ°”ï¼Œæé†’ä½ è¦æ§åˆ¶æƒ…ç»ªï¼Œå‘æŒ¥æ½œèƒ½ã€‚',
        'éšå£«': 'è±¡å¾å†…çœä¸æ™ºæ…§ï¼Œå»ºè®®ä½ ç‹¬å¤„æ€è€ƒï¼Œå¯»æ‰¾å†…åœ¨ç­”æ¡ˆã€‚',
        'æ­£ä¹‰': 'ä»£è¡¨å…¬å¹³ä¸å¹³è¡¡ï¼Œæé†’ä½ è¦åšå‡ºå…¬æ­£çš„åˆ¤æ–­ã€‚',
        'æ­»ç¥': 'è±¡å¾è½¬å˜ä¸é‡ç”Ÿï¼Œæš—ç¤ºæ—§çš„ç»“æŸï¼Œæ–°çš„å¼€å§‹ã€‚',
        'èŠ‚åˆ¶': 'ä»£è¡¨å¹³è¡¡ä¸è°ƒå’Œï¼Œå»ºè®®ä½ ä¿æŒä¸­åº¸ä¹‹é“ã€‚',
        'é­”é¬¼': 'è±¡å¾è¯±æƒ‘ä¸æŸç¼šï¼Œæé†’ä½ è¦æ‘†è„±è´Ÿé¢å½±å“ã€‚',
        'æ˜Ÿæ˜Ÿ': 'ä»£è¡¨å¸Œæœ›ä¸çµæ„Ÿï¼Œé¼“åŠ±ä½ ç›¸ä¿¡æœªæ¥ï¼Œè¿½æ±‚ç†æƒ³ã€‚',
        'æœˆäº®': 'è±¡å¾ç›´è§‰ä¸å¹»è±¡ï¼Œæé†’ä½ è¦ç›¸ä¿¡å†…åœ¨æ™ºæ…§ï¼Œä½†ä¹Ÿè¦ä¿æŒæ¸…é†’ã€‚'
    };
    
    return meanings[tarotName] || 'ç¥ç§˜çš„åŠ›é‡æŒ‡å¼•ç€ä½ å‰è¿›çš„æ–¹å‘ã€‚';
}

// åˆ†äº«è¿åŠ¿ç»“æœ
function shareFortuneResult() {
    const zodiac = zodiacData[selectedZodiac];
    const shareText = `æˆ‘çš„${zodiac.name}${fortuneTemplates[selectedFocus].title}ï¼š${document.getElementById('fortuneScore').textContent}åˆ†ï¼å¿«æ¥æ˜Ÿè¿å åœçœ‹çœ‹ä½ çš„è¿åŠ¿å§ï¼\n\nğŸ”— åœ¨çº¿ä½“éªŒï¼šhttps://zwaley.github.io/stars/`;
    
    if (navigator.share) {
        navigator.share({
            title: 'æ˜Ÿè¿å åœ',
            text: shareText,
            url: 'https://zwaley.github.io/stars/'
        });
    } else {
        // å¤åˆ¶åˆ°å‰ªè´´æ¿
        navigator.clipboard.writeText(shareText).then(() => {
            alert('è¿åŠ¿ç»“æœå·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼åŒ…å«åœ¨çº¿ä½“éªŒé“¾æ¥ã€‚');
        }).catch(() => {
            alert('åˆ†äº«å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶åˆ†äº«å†…å®¹ã€‚');
        });
    }
}

// é‡ç½®åˆ°å¼€å§‹
function resetToStart() {
    selectedZodiac = null;
    selectedFocus = 'overall';
    selectedTime = 'today';
    
    // é‡ç½®æ‰€æœ‰é€‰æ‹©çŠ¶æ€
    document.querySelectorAll('.zodiac-card').forEach(card => card.classList.remove('selected'));
    document.querySelectorAll('.focus-card').forEach(card => card.classList.remove('selected'));
    document.querySelectorAll('.time-btn').forEach(btn => btn.classList.remove('active'));
    
    // é‡ç½®é»˜è®¤é€‰æ‹©
    document.querySelector('.focus-card[data-focus="overall"]').classList.add('selected');
    document.querySelector('.time-btn[data-time="today"]').classList.add('active');
    
    // æ˜¾ç¤ºæ˜Ÿåº§é€‰æ‹©å™¨
    zodiacSelector.style.display = 'block';
    focusSelector.style.display = 'none';
    fortuneResult.style.display = 'none';
    
    // æ»šåŠ¨åˆ°é¡¶éƒ¨
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

// ä¿å­˜ç”¨æˆ·åå¥½
function saveUserPreferences() {
    const preferences = {
        zodiac: selectedZodiac,
        focus: selectedFocus,
        time: selectedTime,
        lastVisit: new Date().toISOString()
    };
    localStorage.setItem('starFortunePreferences', JSON.stringify(preferences));
}

// åŠ è½½ç”¨æˆ·åå¥½
function loadUserPreferences() {
    const saved = localStorage.getItem('starFortunePreferences');
    if (saved) {
        const preferences = JSON.parse(saved);
        const lastVisit = new Date(preferences.lastVisit);
        const now = new Date();
        
        // å¦‚æœæ˜¯åŒä¸€å¤©è®¿é—®ï¼Œå¯ä»¥é¢„é€‰ç”¨æˆ·åå¥½
        if (now.toDateString() === lastVisit.toDateString()) {
            if (preferences.focus) {
                selectedFocus = preferences.focus;
                document.querySelector(`.focus-card[data-focus="${preferences.focus}"]`)?.classList.add('selected');
            }
            if (preferences.time) {
                selectedTime = preferences.time;
                document.querySelector(`.time-btn[data-time="${preferences.time}"]`)?.classList.add('active');
            }
        }
    }
}

// æ·»åŠ ä¸€äº›æœ‰è¶£çš„äº¤äº’æ•ˆæœ
document.addEventListener('mousemove', function(e) {
    const stars = document.querySelector('.stars-bg');
    const x = e.clientX / window.innerWidth;
    const y = e.clientY / window.innerHeight;
    
    stars.style.transform = `translate(${x * 10}px, ${y * 10}px)`;
});

// æ·»åŠ ç‚¹å‡»æ˜Ÿæ˜Ÿæ•ˆæœ
document.addEventListener('click', function(e) {
    createStarEffect(e.clientX, e.clientY);
});

function createStarEffect(x, y) {
    const star = document.createElement('div');
    star.innerHTML = 'âœ¨';
    star.style.position = 'fixed';
    star.style.left = x + 'px';
    star.style.top = y + 'px';
    star.style.fontSize = '20px';
    star.style.pointerEvents = 'none';
    star.style.zIndex = '9999';
    star.style.animation = 'starPop 1s ease-out forwards';
    
    document.body.appendChild(star);
    
    setTimeout(() => {
        star.remove();
    }, 1000);
}

// æ·»åŠ æ˜Ÿæ˜Ÿå¼¹å‡ºåŠ¨ç”»
const style = document.createElement('style');
style.textContent = `
    @keyframes starPop {
        0% {
            transform: scale(0) rotate(0deg);
            opacity: 1;
        }
        50% {
            transform: scale(1.2) rotate(180deg);
            opacity: 0.8;
        }
        100% {
            transform: scale(0) rotate(360deg);
            opacity: 0;
        }
    }
`;
document.head.appendChild(style);

// æ¯æ—¥è¿åŠ¿æé†’
function checkDailyFortune() {
    const lastCheck = localStorage.getItem('lastFortuneCheck');
    const today = new Date().toDateString();
    
    if (lastCheck !== today) {
        // æ˜¾ç¤ºæ¯æ—¥è¿åŠ¿æé†’
        setTimeout(() => {
            if (confirm('æ–°çš„ä¸€å¤©å¼€å§‹äº†ï¼è¦ä¸è¦çœ‹çœ‹ä»Šå¤©çš„è¿åŠ¿ï¼Ÿ')) {
                // å¦‚æœç”¨æˆ·æœ‰ä¿å­˜çš„æ˜Ÿåº§åå¥½ï¼Œç›´æ¥ç”Ÿæˆè¿åŠ¿
                const saved = localStorage.getItem('starFortunePreferences');
                if (saved) {
                    const preferences = JSON.parse(saved);
                    if (preferences.zodiac) {
                        selectedZodiac = preferences.zodiac;
                        selectedFocus = 'overall';
                        selectedTime = 'today';
                        generateFortune();
                        return;
                    }
                }
                
                // å¦‚æœæ²¡æœ‰ä¿å­˜çš„æ˜Ÿåº§åå¥½ï¼Œæ˜¾ç¤ºä»Šæ—¥æ•´ä½“è¿åŠ¿æ¦‚è§ˆ
                showDailyOverview();
            }
            localStorage.setItem('lastFortuneCheck', today);
        }, 2000);
    }
}

// æ˜¾ç¤ºä»Šæ—¥æ•´ä½“è¿åŠ¿æ¦‚è§ˆ
function showDailyOverview() {
    const todayOverview = {
        date: new Date().toLocaleDateString('zh-CN', { 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric',
            weekday: 'long'
        }),
        cosmicEnergy: [
            'ä»Šæ—¥å®‡å®™èƒ½é‡æ•´ä½“å’Œè°ï¼Œé€‚åˆæ–°çš„å¼€å§‹å’Œé‡è¦å†³å®šã€‚',
            'è¡Œæ˜Ÿæ’åˆ—å‘ˆç°ç¨³å®šæ ¼å±€ï¼Œå„æ˜Ÿåº§éƒ½æœ‰ä¸åŒç¨‹åº¦çš„æ­£é¢å½±å“ã€‚',
            'æœˆç›¸èƒ½é‡æ¸©å’Œï¼Œæƒ…æ„Ÿå’Œç›´è§‰éƒ½å¤„äºæ•é”çŠ¶æ€ã€‚',
            'æ°´æ˜Ÿè¿è¡Œé¡ºç•…ï¼Œæ²Ÿé€šå’Œå­¦ä¹ æ•ˆæœä½³ã€‚',
            'é‡‘æ˜Ÿæ•£å‘æ¸©æš–èƒ½é‡ï¼Œäººé™…å…³ç³»å’Œç¾æ„Ÿä½“éªŒå¢å¼ºã€‚'
        ],
        generalAdvice: [
            'ä¿æŒå¼€æ”¾çš„å¿ƒæ€ï¼Œä»Šå¤©å¯èƒ½æœ‰æ„å¤–çš„å¥½æ¶ˆæ¯ã€‚',
            'é€‚åˆè¿›è¡Œåˆ›æ„å·¥ä½œå’Œè‰ºæœ¯åˆ›ä½œã€‚',
            'äººé™…äº¤å¾€ä¸­å±•ç°çœŸè¯šï¼Œä¼šè·å¾—ä»–äººçš„å¥½æ„Ÿã€‚',
            'è´¢åŠ¡æ–¹é¢ä¿æŒç†æ€§ï¼Œé¿å…å†²åŠ¨æ¶ˆè´¹ã€‚',
            'å¥åº·çŠ¶å†µè‰¯å¥½ï¼Œé€‚åˆæˆ·å¤–æ´»åŠ¨ã€‚'
        ]
    };
    
    const randomEnergy = todayOverview.cosmicEnergy[Math.floor(Math.random() * todayOverview.cosmicEnergy.length)];
    const randomAdvice = todayOverview.generalAdvice[Math.floor(Math.random() * todayOverview.generalAdvice.length)];
    
    const overviewText = `ğŸ“… ${todayOverview.date}\n\nğŸŒŸ ä»Šæ—¥å®‡å®™èƒ½é‡ï¼š\n${randomEnergy}\n\nğŸ’« ä»Šæ—¥å»ºè®®ï¼š\n${randomAdvice}\n\næƒ³è¦æŸ¥çœ‹ä¸“å±äºä½ çš„è¯¦ç»†è¿åŠ¿å—ï¼Ÿè¯·é€‰æ‹©ä½ çš„æ˜Ÿåº§å¼€å§‹å åœï¼`;
    
    alert(overviewText);
    
    // æ»šåŠ¨åˆ°æ˜Ÿåº§é€‰æ‹©åŒºåŸŸ
    zodiacSelector.scrollIntoView({ behavior: 'smooth' });
}

// é¡µé¢åŠ è½½å®Œæˆåæ£€æŸ¥æ¯æ—¥è¿åŠ¿
window.addEventListener('load', checkDailyFortune);